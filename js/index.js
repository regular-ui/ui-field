!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("regularjs")):"function"==typeof define&&define.amd?define(["Regular"],e):"object"==typeof exports?exports.RGUI=e(require("regularjs")):t.RGUI=e(t.Regular)}(this,function(t){return function(t){function e(s){if(n[s])return n[s].exports;var a=n[s]={exports:{},id:s,loaded:!1};return t[s].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(1);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})})},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Validation=e.TextField=e.InputField=e.Field=void 0;var a=n(2),o=s(a),i=n(10),u=s(i),d=n(12),r=s(d),c=n(9),l=s(c);e.Field=o["default"],e.InputField=u["default"],e.TextField=r["default"],e.Validation=l["default"]},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),o=n(9),i=s(o),u=a.Component.extend({name:"field",config:function(){this.defaults({value:"",state:"",_state:"",tip:"",_tip:"",rules:[]}),this.supr();for(var t=this.$outer;t;){if(t instanceof i["default"]){t.fields.push(this),this.validation=t;break}t=t.$outer}},init:function(){(this.data.disabled||""===this.data.value&&!this.data.rules.find(function(t){return"isRequired"===t.type}))&&(this.data.state="success",this.data._state="success"),this.supr()},destroy:function(){if(this.validation){var t=this.validation.fields.indexOf(this);~t&&this.validation.fields.splice(t,1)}this.supr()},validate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"submit",n=this.data.value,s=this.data.rules.filter(function(t){return(t.trigger+"+submit").includes(e)});this.data._state=this.data.state="validating",i["default"].validate(n,s,function(n){n.firstRule&&!(n.firstRule.mute||"").includes(e)?t.data._tip=n.message:t.data._tip="",t.data._state=t.data.state=n.success?"success":"error",t.$update(),t.$emit("validate",Object.assign({sender:t,trigger:e},n))})}});e["default"]=u},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e._=e.Component=void 0;var a=n(4),o=s(a),i=n(7),u=s(i);e.Component=o["default"],e._=u["default"]},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),o=s(a),i=n(6),u=s(i),d=n(8),r=s(d),c=n(7),l=s(c),p=o["default"].extend({config:function(){this.defaults({readonly:!1,disabled:!1,visible:!0,"class":""}),this.supr()},defaults:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l["default"].defaults.apply(l["default"],[this.data].concat(e))},watch:function(){}}).filter(u["default"]).directive(r["default"]);e["default"]=p},function(e,n){e.exports=t},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=s(a),i={dateFormat:o["default"].dateFormat,format:o["default"].format};e["default"]=i},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(5),i=s(o),u=i["default"].dom;i["default"].prototype.$once||(i["default"].prototype.$once=function(t,e){var n=function s(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];e&&e.apply(this,a),this.$off(t,s)};return this.$on(t,n)});var d={noop:i["default"].util.noop,defaults:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return n.forEach(function(e){for(var n in e)e.hasOwnProperty(n)&&void 0===t[n]&&(t[n]=e[n])}),t},createBoolDirective:function(t){return function(e,n){var s=this;"object"===("undefined"==typeof n?"undefined":a(n))&&"expression"===n.type?this.$watch(n,function(n,a){!n!=!a&&t.call(s,e,n)}):void 0===n||""===n?t.call(this,e,!0):t.call(this,e,!!n)}},createBoolClassDirective:function(t){return d.createBoolDirective(function(e,n){u[n?"addClass":"delClass"](e,t)})},dateFormat:function(){var t={yyyy:function(t){return t.getFullYear()},MM:function(t){return String(t.getMonth()+1).padStart(2,"0")},dd:function(t){return String(t.getDate()).padStart(2,"0")},HH:function(t){return String(t.getHours()).padStart(2,"0")},mm:function(t){return String(t.getMinutes()).padStart(2,"0")},ss:function(t){return String(t.getSeconds()).padStart(2,"0")}},e=new RegExp(Object.keys(t).join("|"),"g");return function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm";return n?(n=new Date(n),s.replace(e,function(e){return t[e](n)})):""}}(),format:function(t,e){for(var n=arguments.length,s=Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return d[e+"Format"].apply(d,[t].concat(s))}};e["default"]=d},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=s(a),i={};i["z-crt"]=o["default"].createBoolClassDirective("z-crt"),i["z-sel"]=o["default"].createBoolClassDirective("z-sel"),i["z-chk"]=o["default"].createBoolClassDirective("z-chk"),i["z-act"]=o["default"].createBoolClassDirective("z-act"),i["z-dis"]=o["default"].createBoolClassDirective("z-dis"),i["r-show"]=o["default"].createBoolDirective(function(t,e){t.style.display=e?"block":""}),i["r-autofocus"]=o["default"].createBoolDirective(function(t,e){e&&setTimeout(function(){return t.focus()},0)}),e["default"]=i},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),o=n(!function(){var t=new Error('Cannot find module "validator"');throw t.code="MODULE_NOT_FOUND",t}()),i=s(o),u=a.Component.extend({name:"validation",template:"{#inc this.$body}",config:function(){this.fields=[],this.supr()},validate:function(){var t=this;if(this.data.disabled)return{success:!0,message:"Validation is disabled."};var e={results:[],success:!0,message:""},n=this.fields.length,s=function(){0===n&&t.$emit("validate",Object.assign({sender:t},e))};s();var a=function(t){delete t.sender,e.results.push(t),t.success||(e.success=!1,e.message=e.message||t.message),n--,s()};this.fields.forEach(function(e){return e.$once("validate",a.bind(t)).validate()})}});u.validate=function(t,e,n){var s={success:!0,message:""};t=i["default"].toString(t);var a=e.length,o=function(){return 0===a&&n&&n(s)};o();for(var u=function(t){var e=this;t?(a--,o()):(s.success=!1,s.firstRule=e,s.message=e.message,n&&n(s))},d=0;d<e.length&&s.success;d++){var r=e[d];"isRequired"===r.type?u.call(r,!!t):t?"isFilled"===r.type?u.call(r,!!t.trim()):"is"===r.type?u.call(r,r.options.test(t)):"isNot"===r.type?u.call(r,!r.options.test(t)):"method"===r.type?u.call(r,!!r.options(t,r)):"async"===r.type?r.options&&r.options(t,u.bind(r),r):u.call(r,i["default"][r.type](t,r.options)):u.call(r,!0)}},u.validator=i["default"],e["default"]=u},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),o=s(a),i=n(11),u=s(i),d=o["default"].extend({name:"inputField",template:u["default"],config:function(){this.defaults({type:"",placeholder:"",maxlength:void 0,unit:"",autofocus:!1,_compositionInputing:!1}),this.supr()},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},_onInput:function(t){var e=this;this.$emit("input",t),setTimeout(function(){return!e.data._compositionInputing&&e.validate("input")})},_onFocus:function(t){this.data.state="",this.data._tip=this.data.tip,this.$emit("focus",t)},_onBlur:function(t){this.validate("blur"),this.$emit("blur",t)}});e["default"]=d},function(t,e){t.exports=[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-inputField ',c._sg_('class', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"r-hide",value:{type:"expression",body:"(!c._sg_('visible', d, e))",constant:!1,setbody:!1}}],children:[{type:"text",text:"\n    "},{type:"element",tag:"input",attrs:[{type:"attribute",name:"ref",value:"input"},{type:"attribute",name:"class",value:{type:"expression",body:"['u-input u-input-',c._sg_('state', d, e),' u-input-',c._sg_('size', d, e),' u-input-',c._sg_('width', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"name",value:{type:"expression",body:"c._sg_('name', d, e)",constant:!1,setbody:"c._ss_('name',p_,d, '=', 1)"}},{type:"attribute",name:"type",value:{type:"expression",body:"c._sg_('type', d, e)",constant:!1,setbody:"c._ss_('type',p_,d, '=', 1)"}},{type:"attribute",name:"placeholder",value:{type:"expression",body:"c._sg_('placeholder', d, e)",constant:!1,setbody:"c._ss_('placeholder',p_,d, '=', 1)"}},{type:"attribute",name:"maxlength",value:{type:"expression",body:"c._sg_('maxlength', d, e)",constant:!1,setbody:"c._ss_('maxlength',p_,d, '=', 1)"}},{type:"attribute",name:"autofocus",value:{type:"expression",body:"c._sg_('autofocus', d, e)",constant:!1,setbody:"c._ss_('autofocus',p_,d, '=', 1)"}},{type:"attribute",name:"readonly",value:{type:"expression",body:"c._sg_('readonly', d, e)",constant:!1,setbody:"c._ss_('readonly',p_,d, '=', 1)"}},{type:"attribute",name:"disabled",value:{type:"expression",body:"c._sg_('disabled', d, e)",constant:!1,setbody:"c._ss_('disabled',p_,d, '=', 1)"}},{type:"attribute",name:"r-model",value:{type:"expression",body:"c._sg_('value', d, e)",constant:!1,setbody:"c._ss_('value',p_,d, '=', 1)"}},{type:"attribute",name:"on-compositionstart",value:{type:"expression",body:"c._ss_('_compositionInputing',true,d, '=', 1)",constant:!1,setbody:"c._ss_('_compositionInputing',p_,d, '=', 1)"}},{type:"attribute",name:"on-compositionend",value:{type:"expression",body:"c._ss_('_compositionInputing',false,d, '=', 1)",constant:!1,setbody:"c._ss_('_compositionInputing',p_,d, '=', 1)"}},{type:"attribute",name:"on-input",value:{type:"expression",body:"c['_onInput'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"if",test:{type:"expression",body:"c._sg_('_ltIE9', d, e)",constant:!1,setbody:"c._ss_('_ltIE9',p_,d, '=', 1)"},consequent:[[{type:"attribute",name:"on-propertychange",value:{type:"expression",body:"c['_onInput'](c._sg_('$event', d, e))",constant:!1,setbody:!1}}]],alternate:[]},{type:"attribute",name:"on-focus",value:{type:"expression",body:"c['_onFocus'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-blur",value:{type:"expression",body:"c['_onBlur'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-change",value:"change"}]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('unit', d, e)",constant:!1,setbody:"c._ss_('unit',p_,d, '=', 1)"},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:"inputField_unit"}],children:[{type:"expression",body:"c._sg_('unit', d, e)",constant:!1,setbody:"c._ss_('unit',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('_eltIE9', d, e)&&(!c._sg_('value', d, e))",constant:!1,setbody:!1},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:"inputField_placeholder"},{type:"attribute",name:"on-click",value:{type:"expression",body:"c['focus']()",constant:!1,setbody:!1}}],children:[{type:"expression",body:"c._sg_('placeholder', d, e)",constant:!1,setbody:"c._ss_('placeholder',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('_tip', d, e)",constant:!1,setbody:"c._ss_('_tip',p_,d, '=', 1)"},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-tip u-tip-',c._sg_('state', d, e)].join('')",constant:!1,setbody:!1}}],children:[{type:"expression",body:"c._sg_('_tip', d, e)",constant:!1,setbody:"c._ss_('_tip',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n"}]}]},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),o=s(a),i=n(13),u=s(i),d=o["default"].extend({name:"textField",template:u["default"],config:function(){this.defaults({placeholder:"",maxlength:void 0,autofocus:!1,_compositionInputing:!1}),this.supr()},focus:function(){this.$refs.textarea.focus()},blur:function(){this.$refs.textarea.blur()},_onInput:function(t){var e=this;this.$emit("input",t),setTimeout(function(){return!e.data._compositionInputing&&e.validate("input")})},_onFocus:function(t){this.data.state="",this.data._tip=this.data.tip,this.$emit("focus",t)},_onBlur:function(t){this.validate("blur"),this.$emit("blur",t)}});e["default"]=d},function(t,e){t.exports=[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-textField ',c._sg_('class', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"r-hide",value:{type:"expression",body:"(!c._sg_('visible', d, e))",constant:!1,setbody:!1}}],children:[{type:"text",text:"\n    "},{type:"element",tag:"textarea",attrs:[{type:"attribute",name:"ref",value:"textarea"},{type:"attribute",name:"class",value:{type:"expression",body:"['u-textarea u-textarea-',c._sg_('state', d, e),' u-textarea-',c._sg_('size', d, e),' u-textarea-',c._sg_('width', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"name",value:{type:"expression",body:"c._sg_('name', d, e)",constant:!1,setbody:"c._ss_('name',p_,d, '=', 1)"}},{type:"attribute",name:"type",value:{type:"expression",body:"c._sg_('type', d, e)",constant:!1,setbody:"c._ss_('type',p_,d, '=', 1)"}},{type:"attribute",name:"placeholder",value:{type:"expression",body:"c._sg_('placeholder', d, e)",constant:!1,setbody:"c._ss_('placeholder',p_,d, '=', 1)"}},{type:"attribute",name:"maxlength",value:{type:"expression",body:"c._sg_('maxlength', d, e)",constant:!1,setbody:"c._ss_('maxlength',p_,d, '=', 1)"}},{type:"attribute",name:"autofocus",value:{type:"expression",body:"c._sg_('autofocus', d, e)",constant:!1,setbody:"c._ss_('autofocus',p_,d, '=', 1)"}},{type:"attribute",name:"readonly",value:{type:"expression",body:"c._sg_('readonly', d, e)",constant:!1,setbody:"c._ss_('readonly',p_,d, '=', 1)"}},{type:"attribute",name:"disabled",value:{type:"expression",body:"c._sg_('disabled', d, e)",constant:!1,setbody:"c._ss_('disabled',p_,d, '=', 1)"}},{type:"attribute",name:"r-model",value:{type:"expression",body:"c._sg_('value', d, e)",constant:!1,setbody:"c._ss_('value',p_,d, '=', 1)"}},{type:"attribute",name:"on-compositionstart",value:{type:"expression",body:"c._ss_('_compositionInputing',true,d, '=', 1)",constant:!1,setbody:"c._ss_('_compositionInputing',p_,d, '=', 1)"}},{type:"attribute",name:"on-compositionend",value:{type:"expression",body:"c._ss_('_compositionInputing',false,d, '=', 1)",constant:!1,setbody:"c._ss_('_compositionInputing',p_,d, '=', 1)"}},{type:"attribute",name:"on-input",value:{type:"expression",body:"c['_onInput'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"if",test:{type:"expression",body:"c._sg_('_ltIE9', d, e)",constant:!1,setbody:"c._ss_('_ltIE9',p_,d, '=', 1)"},consequent:[[{type:"attribute",name:"on-propertychange",value:{type:"expression",body:"c['_onInput'](c._sg_('$event', d, e))",constant:!1,setbody:!1}}]],alternate:[]},{type:"attribute",name:"on-focus",value:{type:"expression",body:"c['_onFocus'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-blur",value:{type:"expression",body:"c['_onBlur'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-change",value:"change"}],children:[]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('_eltIE9', d, e)&&(!c._sg_('value', d, e))",constant:!1,setbody:!1},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:"textField_placeholder"},{type:"attribute",name:"on-click",value:{type:"expression",body:"c['focus']()",constant:!1,setbody:!1}}],children:[{type:"expression",body:"c._sg_('placeholder', d, e)",constant:!1,setbody:"c._ss_('placeholder',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('_tip', d, e)",constant:!1,setbody:"c._ss_('_tip',p_,d, '=', 1)"},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-tip u-tip-',c._sg_('state', d, e)].join('')",constant:!1,setbody:!1}}],children:[{type:"expression",body:"c._sg_('_tip', d, e)",constant:!1,setbody:"c._ss_('_tip',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n"}]}]}])});