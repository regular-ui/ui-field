!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.RGUI=e():t.RGUI=e()}(this,function(){return function(t){function e(n){if(s[n])return s[n].exports;var a=s[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Validation=e.TextField=e.InputField=e.Field=void 0;var a=s(2),o=n(a),i=s(4),d=n(i),u=s(6),p=n(u),c=s(3),r=n(c);e.Field=o["default"],e.InputField=d["default"],e.TextField=p["default"],e.Validation=r["default"]},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(!function(){var t=new Error('Cannot find module "rgui-ui-base"');throw t.code="MODULE_NOT_FOUND",t}()),o=s(3),i=n(o),d=a.Component.extend({name:"field",config:function(){this.defaults({value:"",state:"",_state:"",tip:"",_tip:"",rules:[]}),this.supr();for(var t=this.$outer;t;){if(t instanceof i["default"]){t.fields.push(this),this.validation=t;break}t=t.$outer}},init:function(){(this.data.disabled||""===this.data.value&&!this.data.rules.find(function(t){return"isRequired"===t.type}))&&(this.data.state="success",this.data._state="success"),this.supr()},destroy:function(){if(this.validation){var t=this.validation.fields.indexOf(this);~t&&this.validation.fields.splice(t,1)}this.supr()},validate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"submit",s=this.data.value,n=this.data.rules.filter(function(t){return(t.trigger+"+submit").includes(e)});this.data._state=this.data.state="validating",i["default"].validate(s,n,function(s){s.firstRule&&!(s.firstRule.mute||"").includes(e)?t.data._tip=s.message:t.data._tip="",t.data._state=t.data.state=s.success?"success":"error",t.$update(),t.$emit("validate",Object.assign({sender:t,trigger:e},s))})}});e["default"]=d},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(!function(){var t=new Error('Cannot find module "rgui-ui-base"');throw t.code="MODULE_NOT_FOUND",t}()),o=s(!function(){var t=new Error('Cannot find module "validator"');throw t.code="MODULE_NOT_FOUND",t}()),i=n(o),d=a.Component.extend({name:"validation",template:"{#inc this.$body}",config:function(){this.fields=[],this.supr()},validate:function(){var t=this;if(this.data.disabled)return{success:!0,message:"Validation is disabled."};var e={results:[],success:!0,message:""},s=this.fields.length,n=function(){0===s&&t.$emit("validate",Object.assign({sender:t},e))};n();var a=function(t){delete t.sender,e.results.push(t),t.success||(e.success=!1,e.message=e.message||t.message),s--,n()};this.fields.forEach(function(e){return e.$once("validate",a.bind(t)).validate()})}});d.validate=function(t,e,s){var n={success:!0,message:""};t=i["default"].toString(t);var a=e.length,o=function(){return 0===a&&s&&s(n)};o();for(var d=function(t){var e=this;t?(a--,o()):(n.success=!1,n.firstRule=e,n.message=e.message,s&&s(n))},u=0;u<e.length&&n.success;u++){var p=e[u];"isRequired"===p.type?d.call(p,!!t):t?"isFilled"===p.type?d.call(p,!!t.trim()):"is"===p.type?d.call(p,p.options.test(t)):"isNot"===p.type?d.call(p,!p.options.test(t)):"method"===p.type?d.call(p,!!p.options(t,p)):"async"===p.type?p.options&&p.options(t,d.bind(p),p):d.call(p,i["default"][p.type](t,p.options)):d.call(p,!0)}},d.validator=i["default"],e["default"]=d},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),o=n(a),i=s(5),d=n(i),u=o["default"].extend({name:"inputField",template:d["default"],config:function(){this.defaults({type:"",placeholder:"",maxlength:void 0,unit:"",autofocus:!1,_compositionInputing:!1}),this.supr()},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},_onInput:function(t){var e=this;this.$emit("input",t),setTimeout(function(){return!e.data._compositionInputing&&e.validate("input")})},_onFocus:function(t){this.data.state="",this.data._tip=this.data.tip,this.$emit("focus",t)},_onBlur:function(t){this.validate("blur"),this.$emit("blur",t)}});e["default"]=u},function(t,e){t.exports=[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-inputField ',c._sg_('class', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"r-hide",value:{type:"expression",body:"(!c._sg_('visible', d, e))",constant:!1,setbody:!1}}],children:[{type:"text",text:"\n    "},{type:"element",tag:"input",attrs:[{type:"attribute",name:"ref",value:"input"},{type:"attribute",name:"class",value:{type:"expression",body:"['u-input u-input-',c._sg_('state', d, e),' u-input-',c._sg_('size', d, e),' u-input-',c._sg_('width', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"name",value:{type:"expression",body:"c._sg_('name', d, e)",constant:!1,setbody:"c._ss_('name',p_,d, '=', 1)"}},{type:"attribute",name:"type",value:{type:"expression",body:"c._sg_('type', d, e)",constant:!1,setbody:"c._ss_('type',p_,d, '=', 1)"}},{type:"attribute",name:"placeholder",value:{type:"expression",body:"c._sg_('placeholder', d, e)",constant:!1,setbody:"c._ss_('placeholder',p_,d, '=', 1)"}},{type:"attribute",name:"maxlength",value:{type:"expression",body:"c._sg_('maxlength', d, e)",constant:!1,setbody:"c._ss_('maxlength',p_,d, '=', 1)"}},{type:"attribute",name:"autofocus",value:{type:"expression",body:"c._sg_('autofocus', d, e)",constant:!1,setbody:"c._ss_('autofocus',p_,d, '=', 1)"}},{type:"attribute",name:"readonly",value:{type:"expression",body:"c._sg_('readonly', d, e)",constant:!1,setbody:"c._ss_('readonly',p_,d, '=', 1)"}},{type:"attribute",name:"disabled",value:{type:"expression",body:"c._sg_('disabled', d, e)",constant:!1,setbody:"c._ss_('disabled',p_,d, '=', 1)"}},{type:"attribute",name:"r-model",value:{type:"expression",body:"c._sg_('value', d, e)",constant:!1,setbody:"c._ss_('value',p_,d, '=', 1)"}},{type:"attribute",name:"title",value:{type:"expression",body:"c._sg_('title', d, e)",constant:!1,setbody:"c._ss_('title',p_,d, '=', 1)"}},{type:"attribute",name:"on-compositionstart",value:{type:"expression",body:"c._ss_('_compositionInputing',true,d, '=', 1)",constant:!1,setbody:"c._ss_('_compositionInputing',p_,d, '=', 1)"}},{type:"attribute",name:"on-compositionend",value:{type:"expression",body:"c._ss_('_compositionInputing',false,d, '=', 1)",constant:!1,setbody:"c._ss_('_compositionInputing',p_,d, '=', 1)"}},{type:"attribute",name:"on-input",value:{type:"expression",body:"c['_onInput'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"if",test:{type:"expression",body:"c._sg_('_ltIE9', d, e)",constant:!1,setbody:"c._ss_('_ltIE9',p_,d, '=', 1)"},consequent:[[{type:"attribute",name:"on-propertychange",value:{type:"expression",body:"c['_onInput'](c._sg_('$event', d, e))",constant:!1,setbody:!1}}]],alternate:[]},{type:"attribute",name:"on-focus",value:{type:"expression",body:"c['_onFocus'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-blur",value:{type:"expression",body:"c['_onBlur'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-change",value:"change"}]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('unit', d, e)",constant:!1,setbody:"c._ss_('unit',p_,d, '=', 1)"},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:"inputField_unit"}],children:[{type:"expression",body:"c._sg_('unit', d, e)",constant:!1,setbody:"c._ss_('unit',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('_eltIE9', d, e)&&(!c._sg_('value', d, e))",constant:!1,setbody:!1},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:"inputField_placeholder"},{type:"attribute",name:"on-click",value:{type:"expression",body:"c['focus']()",constant:!1,setbody:!1}}],children:[{type:"expression",body:"c._sg_('placeholder', d, e)",constant:!1,setbody:"c._ss_('placeholder',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('_tip', d, e)",constant:!1,setbody:"c._ss_('_tip',p_,d, '=', 1)"},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-tip u-tip-',c._sg_('state', d, e)].join('')",constant:!1,setbody:!1}}],children:[{type:"expression",body:"c._sg_('_tip', d, e)",constant:!1,setbody:"c._ss_('_tip',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n"}]}]},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),o=n(a),i=s(7),d=n(i),u=o["default"].extend({name:"textField",template:d["default"],config:function(){this.defaults({placeholder:"",maxlength:void 0,autofocus:!1,_compositionInputing:!1}),this.supr()},focus:function(){this.$refs.textarea.focus()},blur:function(){this.$refs.textarea.blur()},_onInput:function(t){var e=this;this.$emit("input",t),setTimeout(function(){return!e.data._compositionInputing&&e.validate("input")})},_onFocus:function(t){this.data.state="",this.data._tip=this.data.tip,this.$emit("focus",t)},_onBlur:function(t){this.validate("blur"),this.$emit("blur",t)}});e["default"]=u},function(t,e){t.exports=[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-textField ',c._sg_('class', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"r-hide",value:{type:"expression",body:"(!c._sg_('visible', d, e))",constant:!1,setbody:!1}}],children:[{type:"text",text:"\n    "},{type:"element",tag:"textarea",attrs:[{type:"attribute",name:"ref",value:"textarea"},{type:"attribute",name:"class",value:{type:"expression",body:"['u-textarea u-textarea-',c._sg_('state', d, e),' u-textarea-',c._sg_('size', d, e),' u-textarea-',c._sg_('width', d, e)].join('')",constant:!1,setbody:!1}},{type:"attribute",name:"name",value:{type:"expression",body:"c._sg_('name', d, e)",constant:!1,setbody:"c._ss_('name',p_,d, '=', 1)"}},{type:"attribute",name:"type",value:{type:"expression",body:"c._sg_('type', d, e)",constant:!1,setbody:"c._ss_('type',p_,d, '=', 1)"}},{type:"attribute",name:"placeholder",value:{type:"expression",body:"c._sg_('placeholder', d, e)",constant:!1,setbody:"c._ss_('placeholder',p_,d, '=', 1)"}},{type:"attribute",name:"maxlength",value:{type:"expression",body:"c._sg_('maxlength', d, e)",constant:!1,setbody:"c._ss_('maxlength',p_,d, '=', 1)"}},{type:"attribute",name:"autofocus",value:{type:"expression",body:"c._sg_('autofocus', d, e)",constant:!1,setbody:"c._ss_('autofocus',p_,d, '=', 1)"}},{type:"attribute",name:"readonly",value:{type:"expression",body:"c._sg_('readonly', d, e)",constant:!1,setbody:"c._ss_('readonly',p_,d, '=', 1)"}},{type:"attribute",name:"disabled",value:{type:"expression",body:"c._sg_('disabled', d, e)",constant:!1,setbody:"c._ss_('disabled',p_,d, '=', 1)"}},{type:"attribute",name:"r-model",value:{type:"expression",body:"c._sg_('value', d, e)",constant:!1,setbody:"c._ss_('value',p_,d, '=', 1)"}},{type:"attribute",name:"on-compositionstart",value:{type:"expression",body:"c._ss_('_compositionInputing',true,d, '=', 1)",constant:!1,setbody:"c._ss_('_compositionInputing',p_,d, '=', 1)"}},{type:"attribute",name:"on-compositionend",value:{type:"expression",body:"c._ss_('_compositionInputing',false,d, '=', 1)",constant:!1,setbody:"c._ss_('_compositionInputing',p_,d, '=', 1)"}},{type:"attribute",name:"on-input",value:{type:"expression",body:"c['_onInput'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"if",test:{type:"expression",body:"c._sg_('_ltIE9', d, e)",constant:!1,setbody:"c._ss_('_ltIE9',p_,d, '=', 1)"},consequent:[[{type:"attribute",name:"on-propertychange",value:{type:"expression",body:"c['_onInput'](c._sg_('$event', d, e))",constant:!1,setbody:!1}}]],alternate:[]},{type:"attribute",name:"on-focus",value:{type:"expression",body:"c['_onFocus'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-blur",value:{type:"expression",body:"c['_onBlur'](c._sg_('$event', d, e))",constant:!1,setbody:!1}},{type:"attribute",name:"on-change",value:"change"}],children:[]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('_eltIE9', d, e)&&(!c._sg_('value', d, e))",constant:!1,setbody:!1},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:"textField_placeholder"},{type:"attribute",name:"on-click",value:{type:"expression",body:"c['focus']()",constant:!1,setbody:!1}}],children:[{type:"expression",body:"c._sg_('placeholder', d, e)",constant:!1,setbody:"c._ss_('placeholder',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n    "},{type:"if",test:{type:"expression",body:"c._sg_('_tip', d, e)",constant:!1,setbody:"c._ss_('_tip',p_,d, '=', 1)"},consequent:[{type:"element",tag:"span",attrs:[{type:"attribute",name:"class",value:{type:"expression",body:"['u-tip u-tip-',c._sg_('state', d, e)].join('')",constant:!1,setbody:!1}}],children:[{type:"expression",body:"c._sg_('_tip', d, e)",constant:!1,setbody:"c._ss_('_tip',p_,d, '=', 1)"}]}],alternate:[]},{type:"text",text:"\n"}]}]}])});